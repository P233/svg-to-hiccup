(ns app.helpers
  (:require
   [clojure.string :as string]))

;; https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute
;; https://gist.github.com/P233/d5000e92ef773820ee39d17eeec18f42
(def attribute-replacements
  [":allowreorder" ":allowReorder"
   ":attributename" ":attributeName"
   ":attributetype" ":attributeType"
   ":autoreverse" ":autoReverse"
   ":basefrequency" ":baseFrequency"
   ":baseprofile" ":baseProfile"
   ":calcmode" ":calcMode"
   ":clippathunits" ":clipPathUnits"
   ":contentscripttype" ":contentScriptType"
   ":contentstyletype" ":contentStyleType"
   ":diffuseconstant" ":diffuseConstant"
   ":edgemode" ":edgeMode"
   ":externalresourcesrequired" ":externalResourcesRequired"
   ":filterres" ":filterRes"
   ":filterunits" ":filterUnits"
   ":glyphref" ":glyphRef"
   ":gradienttransform" ":gradientTransform"
   ":gradientunits" ":gradientUnits"
   ":kernelmatrix" ":kernelMatrix"
   ":kernelunitlength" ":kernelUnitLength"
   ":keypoints" ":keyPoints"
   ":keysplines" ":keySplines"
   ":keytimes" ":keyTimes"
   ":lengthadjust" ":lengthAdjust"
   ":limitingconeangle" ":limitingConeAngle"
   ":markerheight" ":markerHeight"
   ":markerunits" ":markerUnits"
   ":markerwidth" ":markerWidth"
   ":maskcontentunits" ":maskContentUnits"
   ":maskunits" ":maskUnits"
   ":numoctaves" ":numOctaves"
   ":pathlength" ":pathLength"
   ":patterncontentunits" ":patternContentUnits"
   ":patterntransform" ":patternTransform"
   ":patternunits" ":patternUnits"
   ":pointsatx" ":pointsAtX"
   ":pointsaty" ":pointsAtY"
   ":pointsatz" ":pointsAtZ"
   ":preservealpha" ":preserveAlpha"
   ":preserveaspectratio" ":preserveAspectRatio"
   ":primitiveunits" ":primitiveUnits"
   ":referrerpolicy" ":referrerPolicy"
   ":refx" ":refX"
   ":refy" ":refY"
   ":repeatcount" ":repeatCount"
   ":repeatdur" ":repeatDur"
   ":requiredextensions" ":requiredExtensions"
   ":requiredfeatures" ":requiredFeatures"
   ":specularconstant" ":specularConstant"
   ":specularexponent" ":specularExponent"
   ":spreadmethod" ":spreadMethod"
   ":startoffset" ":startOffset"
   ":stddeviation" ":stdDeviation"
   ":stitchtiles" ":stitchTiles"
   ":surfacescale" ":surfaceScale"
   ":systemlanguage" ":systemLanguage"
   ":tablevalues" ":tableValues"
   ":targetx" ":targetX"
   ":targety" ":targetY"
   ":textlength" ":textLength"
   ":viewbox" ":viewBox"
   ":viewtarget" ":viewTarget"
   ":xchannelselector" ":xChannelSelector"
   ":ychannelselector" ":yChannelSelector"
   ":zoomandpan" ":zoomAndPan"])

;; https://stackoverflow.com/a/9569328
(defn replace-attributes [content]
  (reduce #(apply string/replace %1 %2) content (partition 2 attribute-replacements)))
